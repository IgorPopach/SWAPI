(this["webpackJsonp2-test"]=this["webpackJsonp2-test"]||[]).push([[0],{33:function(e,t,a){e.exports=a(45)},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),s=a(7),l=a.n(s),o=a(12),u=a(10),m=a(6),h=a(29),p=a(2),f="GET",d="POST";function b(e,t,a,n,r){var c="".concat(t).concat(function(e){var t=e?Object.keys(e):[];return t.length?"?"+t.map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"):""}(a)),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=Object(p.a)(Object(p.a)({},t),{},{method:e});return a&&(n.body=JSON.stringify(a)),n}(e,r,n);return fetch(c,i).then((function(e){return e.ok?function(e){var t=e.headers.get("content-type");return t.includes("application/json")?e.json():t.includes("text/html")?e.text().then((function(e){return{text:e}})):Promise.reject(new Error("Can't process this response type: ".concat(t)))}(e):function(e){var t=new Error(JSON.stringify({status:e.status,message:e.statusText}));return Promise.reject(t)}(e)}))}var v={get:function(e,t){return b(f,e,t)},post:function(e,t,a){return b(d,e,a,t)}},g=function(e){var t=e.split("/");return 2===t.length?t.find((function(e){return""!==e})):t[4]},E=function(e,t){return{type:"STORE_LINK_DATA",payload:{category:e,data:t}}},O=function(e,t){return function(a){console.log("fetch",e,t),v.get("".concat("https://swapi.dev/api/").concat(e,"/"),t).then((function(t){var n=t.results.map((function(e){for(var t=function(){var t=r[n];if("url"!==t&&"string"===typeof e[t]&&e[t].includes("http:")){var c=e[t].replace("http:","https:"),i=g(c);return{v:v.get(c).then((function(n){var r;a(function(e,t,a){return{type:"STORE_URL_DATA",payload:{category:e,id:t,data:a}}}(i,c,n)),n.name&&(r=n.name),n.title&&(r=n.title);var s=Object(p.a)({},e);return s[t]=r,s}))}}},n=0,r=Object.keys(e);n<r.length;n++){var c=t();if("object"===typeof c)return c.v}return e}));return Promise.all(n).then((function(n){var r=Object(p.a)(Object(p.a)({},t),{},{results:n});a(function(e,t){return{type:"STORE_DATA",payload:{category:e,data:t}}}(e,r))})).catch((function(e){throw new Error("Something went wrong")}))}))}},j=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(n){var r,c,i,s,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=[],c=Object(h.a)(t),a.prev=2,c.s();case 4:if((i=c.n()).done){a.next=20;break}return s=i.value,a.prev=6,s.includes("http:")&&(s=s.replace("http:","https:")),console.log("url",s),a.next=11,v.get(s);case 11:o=a.sent,r.push(o),a.next=18;break;case 15:throw a.prev=15,a.t0=a.catch(6),new Error("Something went wrong");case 18:a.next=4;break;case 20:a.next=25;break;case 22:a.prev=22,a.t1=a.catch(2),c.e(a.t1);case 25:return a.prev=25,c.f(),a.finish(25);case 28:return n(E(e,r)),a.abrupt("return",r);case 30:case"end":return a.stop()}}),a,null,[[2,22,25,28],[6,15]])})));return function(e){return a.apply(this,arguments)}}()},k=a(14),y=r.a.memo((function(e){var t=e.list,a=e.onClick;return r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},t.map((function(e){return r.a.createElement("li",{key:e.link,className:"nav-item"},r.a.createElement(k.c,Object.assign({className:"nav-link",activeClassName:"active",to:e.link},{onClick:a}),e.title.toUpperCase()))}))))})),_=function(e){return{type:"STORE_SEARCH",payload:e}},w=r.a.memo((function(e){var t=e.categories,a=Object(m.c)((function(e){return e.search.search})),c=Object(n.useState)(""),i=Object(u.a)(c,2),s=i[0],l=i[1],o=Object(m.b)(),h=Object(n.useMemo)((function(){if(t)return Object.keys(t).map((function(e){return{title:e,link:"/".concat(e)}}))}),[t]),p=function(){l(""),o(_(""))};return Object(n.useEffect)((function(){""===a&&l("")}),[o,a]),r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement(k.b,{className:"navbar-brand",to:"/home"},"Star Wars Data"),h&&r.a.createElement(y,Object.assign({list:h},{onClick:p})),r.a.createElement("div",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search",value:s,onChange:function(e){var t=e.target;l(t.value),setTimeout((function(){return o(_(t.value))}),1e3)}}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"button",onClick:p},"Clear"))))})),N=a(4),C=r.a.memo((function(){var e=Object(m.c)((function(e){return e.categories.categories})),t=Object(n.useMemo)((function(){if(e)return Object.keys(e).map((function(e){return{title:e,link:"/".concat(e)}}))}),[e]);return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Welcome to the STAR WARS DATA!"),r.a.createElement("p",null,"I hope you'll be enjoy here :)"),r.a.createElement("p",null,"Please select a CATEGORY:"),r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark"},t&&r.a.createElement(y,{list:t})))})),x=a(32),S=a(3),T=function e(t,a,n){Object(S.a)(this,e),this.name=t,this.episode=a,this.release=n},A=function e(t,a,n,r,c){Object(S.a)(this,e),this.characters=t,this.planets=a,this.starships=n,this.vehicles=r,this.species=c},R=function e(t,a,n,r,c,i){Object(S.a)(this,e),this.name=t,this.episode=a,this.release=n,this.producer=r,this.director=c,this.description=i},I=function e(t,a,n){Object(S.a)(this,e),this.name=t,this.gender=a,this.birth_year=n},D=function e(t,a,n,r){Object(S.a)(this,e),this.films=t,this.starships=a,this.vehicles=n,this.species=r},L=function e(t,a,n,r,c,i,s,l,o){Object(S.a)(this,e),this.name=t,this.gender=a,this.birth_year=n,this.homeworld=r,this.height=c,this.mass=i,this.hair_color=s,this.skin_color=l,this.eyes_color=o},M=function e(t,a,n,r){Object(S.a)(this,e),this.name=t,this.population=a,this.terrain=n,this.climate=r},G=function e(t,a,n,r,c,i,s,l,o){Object(S.a)(this,e),this.name=t,this.population=a,this.terrain=n,this.climate=r,this.rotation_period=c,this.orbital_period=i,this.diameter=s,this.surface_water=l,this.gravity=o},W=function e(t,a){Object(S.a)(this,e),this.films=t,this.residents=a},B=function e(t,a,n,r){Object(S.a)(this,e),this.name=t,this.classification=a,this.homeworld=n,this.language=r},P=function e(t,a,n,r,c,i,s,l,o,u){Object(S.a)(this,e),this.name=t,this.classification=a,this.homeworld=n,this.language=r,this.designation=c,this.average_lifespan=i,this.average_height=s,this.skin_colors=l,this.hair_colors=o,this.eye_colors=u},J=function e(t,a){Object(S.a)(this,e),this.people=t,this.films=a},K=function e(t,a,n,r,c){Object(S.a)(this,e),this.name=t,this.model=a,this.manufacturer=n,this.cost_in_credits=r,this.vehicle_class=c},U=function e(t,a,n,r,c,i,s,l,o,u,m){Object(S.a)(this,e),this.name=t,this.model=a,this.manufacturer=c,this.cost_in_credits=n,this.vehicle_class=r,this.length=i,this.max_atmosphering_speed=s,this.crew=l,this.passengers=o,this.cargo_capacity=u,this.consumables=m},H=function e(t,a){Object(S.a)(this,e),this.pilots=t,this.films=a},V=function e(t,a,n,r,c){Object(S.a)(this,e),this.name=t,this.model=a,this.manufacturer=n,this.starship_class=r,this.cost_in_credits=c},Y=function e(t,a,n,r,c,i,s,l,o,u,m,h,p){Object(S.a)(this,e),this.name=t,this.model=a,this.manufacturer=n,this.starship_class=r,this.cost_in_credits=c,this.length=i,this.max_atmosphering_speed=s,this.crew=l,this.passengers=o,this.cargo_capacity=u,this.consumables=m,this.hyperdrive_rating=h,this.MGLT=p},$=function e(t,a){Object(S.a)(this,e),this.pilots=t,this.films=a},q="films",z="people",F="planets",Q="species",X="vehicles",Z="starships",ee=r.a.memo((function(e){var t=e.paginationInfo,a=e.onChangeList,c=Object(n.useMemo)((function(){if(t){var e=[];if(t.previous){var a=+t.previous.split("=")[1];e=e.concat([a,a+1,a+2])}else e=[1,2,3];return e}}),[t]),i=Object(n.useCallback)((function(){t.previous&&a(+t.previous.split("=")[1])}),[a,t]),s=Object(n.useCallback)((function(){t.next&&a(+t.next.split("=")[1])}),[a,t]);return t?r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item",onClick:i},r.a.createElement("span",{className:"page-link"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"))),c.map((function(e){return r.a.createElement("li",{key:e,className:"page-item",onClick:a.bind(void 0,e)},r.a.createElement("span",{className:"page-link"},e))})),r.a.createElement("li",{className:"page-item",onClick:s},r.a.createElement("span",{className:"page-link"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"))))):r.a.createElement("div",{style:{height:"25px",marginBottom:"1rem"}})})),te=function(e){var t=e.category,a=e.tableData,n=e.onViewDetails,c=e.onChangeList,i=e.paginationInfo,s=e.sortTableByKey;return 0===a.length?r.a.createElement("div",{className:"table-component"},r.a.createElement("h2",null,t),r.a.createElement("h6",null,"There is no data!")):r.a.createElement("div",{className:"table-component"},r.a.createElement("h2",null,t),r.a.createElement(ee,{paginationInfo:i,onChangeList:c}),r.a.createElement("table",{className:"table table-dark table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(a[0].tableInfo).map((function(e,t){return r.a.createElement("th",{key:t,onClick:s.bind(void 0,e)},e.toUpperCase())})))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id,onClick:n.bind(void 0,e.id)},Object.keys(e.tableInfo).map((function(t){return r.a.createElement("td",{key:t},e.tableInfo[t])})))})))))},ae=function(e){var t=e.detailInfo,a=e.onClickListLinks,n=function(e,t){0!==t.length&&("characters"!==e&&"residents"!==e||(e="people"),a(e,t))};return r.a.createElement("div",{className:"details"},r.a.createElement("h2",null,t.info.name),r.a.createElement("div",{className:"list-container"},r.a.createElement("div",{className:"list-container-details"},r.a.createElement("p",null,"Details:"),r.a.createElement("ul",{className:"list-group list-group-flush details-info"},Object.keys(t.info).map((function(e){return r.a.createElement("li",{key:e,className:"list-group-item list-group-item-dark"},r.a.createElement("h3",null,e),r.a.createElement("p",null,t.info[e]))})))),r.a.createElement("div",{className:"list-container-links"},r.a.createElement("p",null,"Related Links:"),r.a.createElement("ul",{className:"list-group details-links"},Object.keys(t.links).map((function(e){return r.a.createElement("li",{key:e,className:"list-group-item d-flex justify-content-between list-group-item-dark",onClick:n.bind(void 0,e,t.links[e])},r.a.createElement("h3",null,e),r.a.createElement("span",{className:"badge badge-primary badge-pill"},t.links[e].length))}))))))},ne=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},re=function(e){var t=e.children,a=e.onClick;return r.a.createElement("button",Object.assign({onClick:a},{type:"button",className:"btn btn btn-outline-light"}),t)},ce=r.a.memo((function(e){e.url;var t=e.identifier,a=Object(n.useState)(!1),c=Object(u.a)(a,2),i=c[0],s=c[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),f=p[0],d=p[1],b=Object(m.c)((function(e){return e.categories.data})),v=Object(m.c)((function(e){return e.search.search})),g=Object(n.useState)(t),E=Object(u.a)(g,2),k=E[0],y=E[1],w=Object(n.useState)(null),N=Object(u.a)(w,2),C=N[0],S=N[1],ee=Object(n.useState)(null),ce=Object(u.a)(ee,2),ie=ce[0],se=ce[1],le=Object(n.useState)(null),oe=Object(u.a)(le,2),ue=oe[0],me=oe[1],he=Object(n.useState)(null),pe=Object(u.a)(he,2),fe=pe[0],de=pe[1],be=Object(m.b)(),ve=Object(n.useCallback)(function(){var e=Object(o.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),e.prev=1,e.next=4,be(j(t,a));case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),d(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[be]),ge=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),ve(t,a).then((function(e){y(t),S(e),se(null),be(_("")),s(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=Object(n.useCallback)(function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),e.prev=1,e.next=4,be(O(t,a));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),d(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}(),[be]);return Object(n.useEffect)((function(){me(null),y(t),s(!0),Ee(t,{search:v}).then((function(){return s(!1)}))}),[Ee,be,t,v]),Object(n.useEffect)((function(){if(C){var e=C.map((function(e){var t=function(e,t){switch(e){case q:return new T(t.title,t.episode_id,t.release_date);case z:return new I(t.name,t.gender,t.birth_year);case F:return new M(t.name,t.population,t.terrain,t.climate);case Q:return new B(t.name,t.classification,t.homeworld,t.language);case X:return new K(t.name,t.model,t.manufacturer,t.cost_in_credits,t.vehicle_class);case Z:return new V(t.name,t.model,t.manufacturer,t.starship_class,t.cost_in_credits);default:return}}(k,e);return{id:e.url,tableInfo:t}}));me(e)}}),[C,k]),Object(n.useEffect)((function(){b&&b[t]&&(S(b[t].results),se({count:b[t].count,next:b[t].next,previous:b[t].previous}))}),[b,t]),f?r.a.createElement("div",null,r.a.createElement("h2",null,"An error occurred!"),r.a.createElement("p",null,f),r.a.createElement(re,{onClick:Ee.bind(void 0,t)},"Load Data Again")):i?r.a.createElement(ne,null):r.a.createElement("div",{className:"page-view"},ue?r.a.createElement(te,{tableData:ue,onViewDetails:function(e){var t=C.find((function(t){return t.url===e}));de(function(e,t){switch(e){case q:return{info:new R(t.title,t.episode_id,t.release_date,t.producer,t.director,t.opening_crawl),links:new A(t.characters,t.planets,t.starships,t.vehicles,t.species)};case z:return{info:new L(t.name,t.gender,t.birth_year,t.homeworld,t.height,t.mass,t.hair_color,t.skin_color,t.eye_color),links:new D(t.films,t.starships,t.vehicles,t.species)};case F:return{info:new G(t.name,t.population,t.terrain,t.climate,t.rotation_period,t.orbital_period,t.diameter,t.surface_water,t.gravity),links:new W(t.films,t.residents)};case Q:return{info:new P(t.name,t.classification,t.homeworld,t.language,t.designation,t.average_lifespan,t.average_height,t.skin_colors,t.hair_colors,t.eye_colors),links:new J(t.people,t.films)};case X:return{info:new U(t.name,t.model,t.cost_in_credits,t.vehicle_class,t.manufacturer,t.length,t.max_atmosphering_speed,t.crew,t.passengers,t.cargo_capacity,t.consumables),links:new H(t.pilots,t.films)};case Z:return{info:new Y(t.name,t.model,t.manufacturer,t.starship_class,t.cost_in_credits,t.length,t.max_atmosphering_speed,t.crew,t.passengers,t.cargo_capacity,t.consumables,t.hyperdrive_rating,t.MGLT),links:new $(t.pilots,t.films)};default:return}}(k,t))},onChangeList:function(e){s(!0),Ee(t,{page:e}).then((function(){return s(!1)}))},category:k,paginationInfo:ie,sortTableByKey:function(e){var t=Object(x.a)(ue).sort((function(t,a){return t.tableInfo[e]<a.tableInfo[e]?-1:t.tableInfo[e]>a.tableInfo[e]?1:0}));me(t)}}):r.a.createElement(ne,null),fe&&r.a.createElement(ae,{detailInfo:fe,onClickListLinks:ge}))})),ie=function(e){var t=e.match,a=t.path,n=t.url,c=g(a);return r.a.createElement(ce,{url:n,identifier:c})},se=function(e){var t=e.match,a=t.path,n=t.url,c=g(a);return r.a.createElement(ce,{url:n,identifier:c})},le=function(e){var t=e.match,a=t.path,n=t.url,c=g(a);return r.a.createElement(ce,{url:n,identifier:c})},oe=function(e){var t=e.match,a=t.path,n=t.url,c=g(a);return r.a.createElement(ce,{url:n,identifier:c})},ue=function(e){var t=e.match,a=t.path,n=t.url,c=g(a);return r.a.createElement(ce,{url:n,identifier:c})},me=function(e){var t=e.match,a=t.path,n=t.url,c=g(a);return r.a.createElement(ce,{url:n,identifier:c})},he=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:C}),r.a.createElement(N.b,{exact:!0,path:"/home",component:C}),r.a.createElement(N.b,{path:"/films",component:ie}),r.a.createElement(N.b,{path:"/people",component:se}),r.a.createElement(N.b,{path:"/planets",component:le}),r.a.createElement(N.b,{path:"/species",component:oe}),r.a.createElement(N.b,{path:"/starships",component:ue}),r.a.createElement(N.b,{path:"/vehicles",component:me}),r.a.createElement(N.a,{to:"/home"}))};var pe=r.a.memo((function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),h=s[0],p=s[1],f=Object(m.c)((function(e){return e.categories.categories})),d=Object(m.b)(),b=Object(n.useCallback)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),e.prev=1,e.next=4,d((function(e){v.get("https://swapi.dev/api/").then((function(t){e({type:"STORE_CATEGORIES",payload:t})})).catch((function(e){throw new Error("Something went wrong")}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),p(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),[d]);return Object(n.useEffect)((function(){c(!0),b().then((function(){return c(!1)}))}),[b]),h?r.a.createElement("div",null,r.a.createElement("h2",null,"An error occurred!"),r.a.createElement("button",{title:"Load Categories",onClick:b})):a?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"App"},r.a.createElement(w,{categories:f}),r.a.createElement("div",{className:"container-fluid content"},r.a.createElement(he,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(15),de=a(30),be=a(31),ve=a(13),ge={categories:null,data:null,linksData:null},Ee={search:""},Oe={people:{},planets:{},films:{},species:{},vehicles:{},starships:{}},je=Object(fe.combineReducers)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"STORE_CATEGORIES":return Object(p.a)(Object(p.a)({},e),{},{categories:n});case"STORE_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:Object(p.a)(Object(p.a)({},e.data),{},Object(ve.a)({},n.category,n.data))});case"STORE_LINK_DATA":return Object(p.a)(Object(p.a)({},e),{},{linksData:Object(p.a)(Object(p.a)({},e.linksData),{},Object(ve.a)({},n.category,n.data))});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"STORE_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{search:n});default:return e}},urlData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"STORE_URL_DATA":var r=n.category,c=n.id,i=n.data;return Object(p.a)(Object(p.a)({},e),{},Object(ve.a)({},r,Object(p.a)(Object(p.a)({},e[r]),{},Object(ve.a)({},c,i))));default:return e}}}),ke=Object(fe.createStore)(je,Object(be.composeWithDevTools)(Object(fe.applyMiddleware)(de.a)));a(44);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.a,null,r.a.createElement(m.a,{store:ke},r.a.createElement(pe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.2329dcc0.chunk.js.map